# ═══════════════════════════════════════════════════════════════════════════
# AT·OM SYSTEM - PRODUCTION ENVIRONMENT
# Canon AT·OM Configuration
#
# IMPORTANT: Copy this file to .env and fill in your values
# NEVER commit the .env file to version control
# ═══════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────
# CORE CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────

# Environment
ENV=production
DEBUG=false

# Secret Key (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-minimum-32-characters

# ─────────────────────────────────────────────────────────────────────────
# AT·OM CANON SETTINGS
# ─────────────────────────────────────────────────────────────────────────

# Frequency (Hz) - Target resonance
FREQUENCY_TARGET=999

# L'Essaim - Total agents
ESSAIM_SIZE=350

# Sceau activation duration (seconds)
SCEAU_DURATION=2

# Zero Log Mode (no personal data storage)
ZERO_LOG=true

# Sovereign Mode
SOVEREIGN_MODE=true

# ─────────────────────────────────────────────────────────────────────────
# DATABASE (PostgreSQL or Supabase)
# ─────────────────────────────────────────────────────────────────────────

# Local PostgreSQL
DB_USER=atom_user
DB_PASSWORD=your-secure-password-here
DB_HOST=atom-db
DB_PORT=5432
DB_NAME=atom_db
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Alternative: Supabase (recommended for WebSocket support)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_KEY=your-supabase-anon-key
# SUPABASE_SERVICE_KEY=your-supabase-service-key

# ─────────────────────────────────────────────────────────────────────────
# REDIS (Cache & WebSocket Pub/Sub)
# ─────────────────────────────────────────────────────────────────────────

REDIS_URL=redis://atom-redis:6379/0
REDIS_WS_URL=redis://atom-redis:6379/1

# ─────────────────────────────────────────────────────────────────────────
# WEBSOCKET CONFIGURATION (L'Essaim Real-Time)
# ─────────────────────────────────────────────────────────────────────────

# Maximum simultaneous connections (350 agents + buffer)
WS_MAX_CONNECTIONS=500

# Ping interval to keep connections alive
WS_PING_INTERVAL=30

# Buffer size for high-throughput
WS_BUFFER_SIZE=65536

# Broadcast interval for 60fps animation
BROADCAST_INTERVAL_MS=16

# ─────────────────────────────────────────────────────────────────────────
# CORS & SECURITY
# ─────────────────────────────────────────────────────────────────────────

# Allowed origins (your Vercel deployment URL)
CORS_ORIGINS=https://atom-interface.vercel.app,https://your-custom-domain.com

# SSL Certificate paths (for nginx)
SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem

# ─────────────────────────────────────────────────────────────────────────
# DOMAIN & URLS
# ─────────────────────────────────────────────────────────────────────────

# Your API domain
API_DOMAIN=api.your-domain.com

# Your frontend domain (Vercel)
FRONTEND_URL=https://atom-interface.vercel.app

# ─────────────────────────────────────────────────────────────────────────
# MONITORING (Optional)
# ─────────────────────────────────────────────────────────────────────────

# Health check endpoint
HEALTH_CHECK_PATH=/api/v1/health

# Metrics (only technical, no personal data - ZERO LOG)
METRICS_ENABLED=true
METRICS_PATH=/metrics

# ─────────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────────────

# Requests per minute per IP
RATE_LIMIT_RPM=100

# WebSocket connections per IP
WS_RATE_LIMIT=10
