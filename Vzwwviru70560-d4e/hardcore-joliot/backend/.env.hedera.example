# =============================================================================
# HEDERA HASHGRAPH CONFIGURATION FOR AT·OM SOVEREIGN ECONOMY
# =============================================================================
# Copy this file to .env and fill in your credentials
# NEVER commit .env files with real credentials to version control
# =============================================================================

# =====================
# NETWORK CONFIGURATION
# =====================

# Network to connect to: mainnet, testnet, previewnet
# Start with testnet for development, switch to mainnet for production
HEDERA_NETWORK=testnet

# Mirror node URL for querying transaction history
# Testnet: https://testnet.mirrornode.hedera.com
# Mainnet: https://mainnet.mirrornode.hedera.com
HEDERA_MIRROR_NODE_URL=https://testnet.mirrornode.hedera.com

# ====================
# OPERATOR CREDENTIALS
# ====================

# Operator account ID (format: 0.0.XXXXX)
# This is the main account that will pay for transactions
# Create at: https://portal.hedera.com/
HEDERA_OPERATOR_ID=0.0.XXXXXX

# Operator private key (ED25519 or ECDSA)
# SECURITY: Keep this secret! Never share or commit this key
HEDERA_OPERATOR_KEY=302e020100300506032b6570...

# ==================
# UR TOKEN SETTINGS
# ==================

# UR Token ID (set after creating the token)
# Leave empty until token is created via /api/hedera/admin/initialize-token
HEDERA_UR_TOKEN_ID=

# Token configuration (used during creation)
UR_TOKEN_NAME=Unité de Résonance
UR_TOKEN_SYMBOL=UR
UR_TOKEN_DECIMALS=8
UR_TOKEN_INITIAL_SUPPLY=0

# ========================
# HCS (CONSENSUS) SETTINGS
# ========================

# HCS Topic ID for audit logging (set after creating topic)
# Leave empty until topic is created via /api/hedera/admin/create-hcs-topic
HEDERA_HCS_TOPIC_ID=

# HCS Topic memo
HCS_TOPIC_MEMO=AT·OM Sovereign Economy Audit Log

# ====================
# TREASURY CONFIGURATION
# ====================

# Treasury account for holding minted tokens
# Usually same as operator for initial setup
HEDERA_TREASURY_ACCOUNT=0.0.XXXXXX

# Reserve account for exfiltration funds
HEDERA_RESERVE_ACCOUNT=0.0.XXXXXX

# ========================
# ECONOMIC PARAMETERS
# ========================

# Base UR exchange rate (1 UR = X CAD)
UR_BASE_RATE_CAD=1.35
UR_BASE_RATE_USD=1.00

# Minimum reserve ratio (percentage)
MIN_RESERVE_RATIO=80

# Maximum single mint amount (in UR)
MAX_MINT_AMOUNT=1000000000

# Maximum single transfer amount (in UR)
MAX_TRANSFER_AMOUNT=100000000

# =================
# SECURITY SETTINGS
# =================

# Enable simulation mode (no real blockchain transactions)
# Set to true for development/testing
HEDERA_SIMULATION_MODE=true

# Transaction timeout in seconds
HEDERA_TX_TIMEOUT=30

# Maximum retry attempts for failed transactions
HEDERA_MAX_RETRIES=3

# Key rotation reminder interval (days)
KEY_ROTATION_REMINDER_DAYS=90

# ==================
# LOGGING & MONITORING
# ==================

# Log level for Hedera operations
HEDERA_LOG_LEVEL=INFO

# Enable transaction metrics collection
HEDERA_METRICS_ENABLED=true

# Metrics export endpoint (Prometheus format)
HEDERA_METRICS_ENDPOINT=/metrics/hedera

# ========================
# INTEGRATION ENDPOINTS
# ========================

# Supabase connection for state persistence
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key

# Stripe for fiat bridge
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. CREATE HEDERA PORTAL ACCOUNT
#    - Go to https://portal.hedera.com/
#    - Create testnet account (free)
#    - Save your Account ID and Private Key
#
# 2. FUND YOUR ACCOUNT (Testnet)
#    - Use the Hedera Faucet: https://portal.hedera.com/faucet
#    - Request testnet HBAR (100 HBAR minimum recommended)
#
# 3. CONFIGURE THIS FILE
#    - Copy to .env
#    - Fill in HEDERA_OPERATOR_ID and HEDERA_OPERATOR_KEY
#    - Set HEDERA_TREASURY_ACCOUNT (usually same as operator)
#
# 4. INITIALIZE UR TOKEN
#    - Start your backend server
#    - Call POST /api/hedera/admin/initialize-token
#    - Save the returned token_id to HEDERA_UR_TOKEN_ID
#
# 5. CREATE HCS AUDIT TOPIC
#    - Call POST /api/hedera/admin/create-hcs-topic
#    - Save the returned topic_id to HEDERA_HCS_TOPIC_ID
#
# 6. SWITCH TO MAINNET (Production)
#    - Create mainnet account at portal.hedera.com
#    - Purchase HBAR from exchange
#    - Transfer HBAR to operator account
#    - Update HEDERA_NETWORK=mainnet
#    - Update all account IDs and keys
#    - Set HEDERA_SIMULATION_MODE=false
#
# =============================================================================
# MAINNET CHECKLIST (Before Going Live)
# =============================================================================
#
# [ ] Audit completed on token configuration
# [ ] Treasury account secured with multi-sig
# [ ] Backup of all private keys in secure location
# [ ] Rate limiting configured on API endpoints
# [ ] Monitoring and alerting set up
# [ ] Emergency procedures documented
# [ ] Legal compliance verified for jurisdiction
# [ ] Insurance/reserves adequate
#
# =============================================================================
