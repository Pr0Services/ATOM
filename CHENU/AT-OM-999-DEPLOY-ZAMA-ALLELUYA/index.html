<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- PWA Meta Tags - CHEÂ·NUâ„¢ V76 -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#D8B26A">
    <meta name="description" content="ATÂ·OM | Plateforme d'intelligence collective â€” 400+ agents IA, 9 domaines d'expertise">

    <!-- Manifest & Icons -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/logo192.png">
    <link rel="apple-touch-icon" href="/logo192.png">

    <title>ATÂ·OM | Tableau de bord</title>
    <script src="/config.js"></script>

    <style>
        :root {
            --sacred-gold: #D8B26A;
            --dark-bg: #0a0a0f;
            --dark-surface: #1A1A1A;
            --green-glow: #00FF88;
            --purple-glow: #9333EA;
            --orange-glow: #FF6B35;
            --phi: 1.618033988749895;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--dark-bg);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER - Fixed Top
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(216, 178, 106, 0.3);
        }

        .logo { display: flex; align-items: center; gap: 0.75rem; }
        .logo-icon { font-size: 1.5rem; }
        .logo-text { font-size: 1.25rem; font-weight: bold; color: var(--sacred-gold); letter-spacing: 2px; }
        .logo-subtitle { font-size: 0.7rem; color: rgba(255, 255, 255, 0.5); }

        .header-center {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .freq-display {
            text-align: center;
        }

        .freq-value {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--sacred-gold);
        }

        .freq-label {
            font-size: 0.6rem;
            color: rgba(255, 255, 255, 0.4);
            text-transform: uppercase;
        }

        .header-nav {
            display: flex;
            gap: 0.25rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        @media (max-width: 1200px) {
            .header-nav {
                display: none;
            }
        }

        .header-btn {
            padding: 0.5rem 0.75rem;
            background: rgba(128, 128, 128, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }

        .header-btn:hover {
            background: rgba(216, 178, 106, 0.2);
            border-color: var(--sacred-gold);
            color: var(--sacred-gold);
        }

        .header-btn.primary {
            background: rgba(216, 178, 106, 0.2);
            border-color: var(--sacred-gold);
            color: var(--sacred-gold);
        }

        .header-btn.active {
            background: rgba(216, 178, 106, 0.3);
            border-color: var(--sacred-gold);
            color: var(--sacred-gold);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN LAYOUT - 3 HUBS (Canonical Grid)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .main-content {
            padding-top: 70px;
            padding-bottom: 1rem;
            min-height: 100vh;
        }

        .grid-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 1024px) {
            .grid-container {
                grid-template-columns: 280px 1fr 320px;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HUB 1 - LEFT: NAVIGATION TREE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .nav-hub {
            background: rgba(128, 128, 128, 0.05);
            border: 1px solid rgba(128, 128, 128, 0.2);
            border-radius: 12px;
            overflow: hidden;
        }

        .nav-header {
            padding: 1rem;
            border-bottom: 1px solid rgba(128, 128, 128, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-header h3 {
            font-size: 1rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-list {
            padding: 0.5rem 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid rgba(128, 128, 128, 0.1);
            transition: all 0.2s;
            text-decoration: none;
            color: white;
        }

        .nav-item:hover {
            background: rgba(216, 178, 106, 0.1);
        }

        .nav-item.active {
            background: rgba(216, 178, 106, 0.15);
            border-left: 3px solid var(--sacred-gold);
        }

        .nav-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            background: rgba(216, 178, 106, 0.1);
            border: 1px solid rgba(216, 178, 106, 0.2);
        }

        .nav-info { flex: 1; min-width: 0; }
        .nav-name { font-size: 0.9rem; font-weight: 500; }
        .nav-desc { font-size: 0.7rem; color: rgba(255, 255, 255, 0.5); }

        .nav-arrow {
            color: rgba(255, 255, 255, 0.3);
            font-size: 0.8rem;
        }


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HUB 2 - CENTER: NEXUS CORE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .nexus-hub {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .nexus-title-section {
            text-align: center;
        }

        .nexus-title {
            font-size: 2.5rem;
            color: var(--sacred-gold);
            letter-spacing: 8px;
            margin-bottom: 0.5rem;
        }

        .nexus-subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Welcome Section */
        .arithmos-section {
            width: 100%;
            max-width: 500px;
            text-align: center;
        }

        .input-hint {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 1rem;
        }

        .calc-button {
            margin-top: 1rem;
            padding: 1rem 3rem;
            background: linear-gradient(135deg, var(--sacred-gold), #c9a55a);
            border: none;
            border-radius: 8px;
            color: var(--dark-bg);
            font-size: 1rem;
            font-weight: bold;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(216, 178, 106, 0.4);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HUB 3 - RIGHT: SYSTEM STATUS & QUICK ACTIONS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .status-hub {
            background: rgba(128, 128, 128, 0.05);
            border: 1px solid rgba(128, 128, 128, 0.2);
            border-radius: 12px;
            overflow: hidden;
        }

        .panel-section {
            padding: 1rem;
            border-bottom: 1px solid rgba(128, 128, 128, 0.1);
        }

        .panel-section:last-child { border-bottom: none; }

        .panel-title {
            font-size: 0.9rem;
            color: white;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* System Status */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .status-item {
            text-align: center;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 0.5rem;
        }

        .status-indicator.online { background: var(--green-glow); box-shadow: 0 0 10px var(--green-glow); }
        .status-indicator.offline { background: #FF6B6B; }
        .status-indicator.warning { background: #FFD700; }

        .status-value { font-size: 1rem; font-weight: bold; color: var(--sacred-gold); }
        .status-label { font-size: 0.65rem; color: rgba(255, 255, 255, 0.4); margin-top: 0.2rem; }


        /* Quick Actions */
        .quick-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .quick-action {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            color: white;
        }

        .quick-action:hover {
            background: rgba(216, 178, 106, 0.1);
            border-color: rgba(216, 178, 106, 0.3);
        }

        .quick-action-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            background: rgba(216, 178, 106, 0.1);
        }

        .quick-action-info { flex: 1; }
        .quick-action-name { font-size: 0.85rem; font-weight: 500; }
        .quick-action-desc { font-size: 0.7rem; color: rgba(255, 255, 255, 0.5); }

        /* Architect Info */
        .architect-info {
            padding: 1rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.75rem;
            border-top: 1px solid rgba(128, 128, 128, 0.2);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FLOATING AGENT TOGGLE - AMOVIBLE (Nova, Aria, Orion)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .agent-fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1000;
            cursor: grab;
            touch-action: none;
            user-select: none;
        }

        .agent-fab.dragging { cursor: grabbing; }

        .fab-main {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--sacred-gold), #8B6914);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px rgba(216, 178, 106, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .fab-main:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(216, 178, 106, 0.6);
        }

        .fab-main.open { transform: rotate(45deg); }

        .agent-spheres {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .agent-fab.open .agent-spheres {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .agent-sphere {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px 8px 10px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--agent-color, rgba(255, 255, 255, 0.2));
            border-radius: 28px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .agent-sphere:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-5px);
        }

        .agent-sphere-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            background: var(--agent-bg, rgba(255, 255, 255, 0.1));
            border: 2px solid var(--agent-color);
        }

        .agent-sphere-info { flex: 1; }
        .agent-sphere-name { font-size: 0.85rem; font-weight: 600; color: white; }
        .agent-sphere-role { font-size: 0.65rem; color: rgba(255, 255, 255, 0.5); }
        .agent-sphere-freq { font-size: 0.7rem; color: var(--agent-color); font-weight: bold; }

        .quick-connect {
            --agent-color: var(--sacred-gold);
            border-style: dashed;
        }

        .quick-connect .agent-sphere-icon {
            font-size: 1.5rem;
            background: transparent;
        }

        /* Agent Chat Panel */
        .agent-chat-panel {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 350px;
            max-height: 500px;
            background: rgba(10, 10, 15, 0.98);
            border: 1px solid rgba(216, 178, 106, 0.3);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1001;
        }

        .agent-chat-panel.open { display: flex; }

        .chat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-agent-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: var(--agent-bg);
            border: 2px solid var(--agent-color);
        }

        .chat-agent-info { flex: 1; }
        .chat-agent-name { font-size: 1rem; font-weight: bold; color: white; }
        .chat-agent-status {
            font-size: 0.75rem;
            color: var(--green-glow);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .chat-agent-status::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--green-glow);
            border-radius: 50%;
        }

        .chat-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            max-height: 300px;
        }

        .chat-message {
            margin-bottom: 12px;
            padding: 10px 14px;
            border-radius: 12px;
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .chat-message.agent {
            background: rgba(255, 255, 255, 0.05);
            border-left: 3px solid var(--agent-color);
            color: white;
        }

        .chat-message.user {
            background: rgba(216, 178, 106, 0.2);
            text-align: right;
            color: white;
        }

        .chat-input-area {
            padding: 12px 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 10px 14px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            color: white;
            font-size: 0.85rem;
            outline: none;
        }

        .chat-input:focus { border-color: var(--sacred-gold); }

        .chat-send {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--sacred-gold);
            border: none;
            color: black;
            cursor: pointer;
            font-size: 1rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MOBILE RESPONSIVE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 1023px) {
            .header-center { display: none; }

            .grid-container {
                grid-template-columns: 1fr;
            }

            .nav-hub { order: 2; }
            .nexus-hub { order: 1; }
            .status-hub { order: 3; }

            .nav-list { max-height: 200px; overflow-y: auto; }
        }

        @media (max-width: 480px) {
            .agent-chat-panel {
                width: calc(100% - 48px);
                right: 24px;
                left: 24px;
            }

            .nexus-title {
                font-size: 1.8rem;
                letter-spacing: 4px;
            }
        }
    </style>
</head>
<body>
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <header class="header">
        <a href="/landing.html" class="logo" style="text-decoration: none;">
            <span class="logo-icon" style="width:40px;height:40px;background:linear-gradient(135deg,#D8B26A,#c9a55a);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;color:#0a0a0f;font-weight:bold;">A</span>
            <div>
                <div class="logo-text">ATÂ·OM</div>
                <div class="logo-subtitle">Intelligence collective</div>
            </div>
        </a>

        <div class="header-center">
            <div class="freq-display">
                <div class="freq-value" id="agentCountHeader">400+</div>
                <div class="freq-label">Agents</div>
            </div>
            <div class="freq-display">
                <div class="freq-value">9</div>
                <div class="freq-label">Domaines</div>
            </div>
        </div>

        <nav class="header-nav">
            <a href="/" class="header-btn active">ğŸ  Accueil</a>
            <a href="/civilization.html" class="header-btn">ğŸŒ Domaines</a>
            <a href="/agents.html" class="header-btn">ğŸ¤– Agents</a>
            <a href="/spheres.html" class="header-btn">ğŸ”® Vue d'ensemble</a>
            <a href="/live.html" class="header-btn">âš¡ ActivitÃ©</a>
            <a href="/dashboard.html" class="header-btn">ğŸ“Š Tableau de bord</a>
            <a href="/funder.html" class="header-btn primary">ğŸ’ Partenaire</a>
        </nav>
    </header>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MAIN CONTENT - 3 HUBS LAYOUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <main class="main-content">
        <div class="grid-container">

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 HUB 1 - LEFT: NAVIGATION TREE
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <aside class="nav-hub">
                <div class="nav-header">
                    <h3><span>ğŸ§­</span> Navigation</h3>
                    <span style="font-size: 0.75rem; color: rgba(255,255,255,0.4);">ATÂ·OM</span>
                </div>

                <div class="nav-list">
                    <a href="/" class="nav-item active">
                        <div class="nav-icon">ğŸ </div>
                        <div class="nav-info">
                            <div class="nav-name">Accueil</div>
                            <div class="nav-desc">Page principale</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/civilization.html" class="nav-item">
                        <div class="nav-icon">ğŸŒ</div>
                        <div class="nav-info">
                            <div class="nav-name">Domaines</div>
                            <div class="nav-desc">Les 9 domaines d'expertise</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/agents.html" class="nav-item">
                        <div class="nav-icon">ğŸ¤–</div>
                        <div class="nav-info">
                            <div class="nav-name">Agents</div>
                            <div class="nav-desc">Catalogue â€” 400+ agents</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/spheres.html" class="nav-item">
                        <div class="nav-icon">ğŸ”®</div>
                        <div class="nav-info">
                            <div class="nav-name">Vue d'ensemble</div>
                            <div class="nav-desc">Tous vos domaines</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/live.html" class="nav-item">
                        <div class="nav-icon">âš¡</div>
                        <div class="nav-info">
                            <div class="nav-name">ActivitÃ©</div>
                            <div class="nav-desc">Suivi en temps rÃ©el</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/dashboard.html" class="nav-item">
                        <div class="nav-icon">ğŸ“Š</div>
                        <div class="nav-info">
                            <div class="nav-name">Tableau de bord</div>
                            <div class="nav-desc">Statistiques et suivi</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    <a href="/funder.html" class="nav-item">
                        <div class="nav-icon">ğŸ’</div>
                        <div class="nav-info">
                            <div class="nav-name">Partenaire</div>
                            <div class="nav-desc">Devenir partenaire</div>
                        </div>
                        <span class="nav-arrow">â†’</span>
                    </a>
                </div>
            </aside>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 HUB 2 - CENTER: WELCOME & ACTIONS
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <section class="nexus-hub">
                <div class="nexus-title-section">
                    <h1 class="nexus-title">BIENVENUE</h1>
                    <p class="nexus-subtitle">Votre plateforme d'intelligence collective</p>
                </div>

                <!-- Placeholder visuel â€” sera remplacÃ© par des images/symboles -->
                <div style="width:100%;max-width:400px;aspect-ratio:1;display:flex;align-items:center;justify-content:center;border:1px dashed rgba(216,178,106,0.3);border-radius:50%;background:rgba(216,178,106,0.03);">
                    <div style="text-align:center;color:var(--text-muted);font-size:0.9rem;">
                        <div style="font-size:3rem;margin-bottom:0.5rem;opacity:0.4;">â¬¡</div>
                        <span>Visuel Ã  venir</span>
                    </div>
                </div>

                <!-- Welcome message for new users -->
                <div class="arithmos-section" id="welcomeSection">
                    <p class="input-hint" style="font-size: 1rem; color: rgba(255,255,255,0.7); line-height: 1.6;">
                        400+ agents IA organisÃ©s en 9 domaines travaillent pour vous.<br>
                        <strong style="color: var(--sacred-gold);">Cliquez sur ğŸ’« en bas Ã  droite</strong> pour parler Ã  votre guide Aria.
                    </p>

                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 1.5rem;">
                        <a href="/civilization.html" class="calc-button" style="text-decoration: none; display: inline-block;">EXPLORER LES 9 DOMAINES</a>
                        <a href="/agents.html" class="calc-button" style="text-decoration: none; display: inline-block; background: linear-gradient(135deg, rgba(216,178,106,0.2), rgba(216,178,106,0.1)); color: var(--sacred-gold); border: 1px solid var(--sacred-gold);">VOIR LES AGENTS</a>
                    </div>
                </div>
            </section>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 HUB 3 - RIGHT: SYSTEM STATUS & QUICK ACTIONS
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <aside class="status-hub">
                <!-- Vos Guides -->
                <div class="panel-section">
                    <div class="panel-title"><span>âœ¨</span> Vos Guides</div>
                    <div class="quick-actions">
                        <div class="quick-action" onclick="openAgentChat('aria')" style="cursor:pointer;">
                            <div class="quick-action-icon" style="background:rgba(0,255,136,0.15);border:1px solid rgba(0,255,136,0.3);">âœ¨</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name" style="color:#00FF88;">Aria â€” Votre guide</div>
                                <div class="quick-action-desc">Posez vos questions ici</div>
                            </div>
                        </div>
                        <div class="quick-action" onclick="openAgentChat('orion')" style="cursor:pointer;">
                            <div class="quick-action-icon" style="background:rgba(255,107,53,0.15);border:1px solid rgba(255,107,53,0.3);">ğŸ›ï¸</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name" style="color:#FF6B35;">Orion â€” Coordinateur</div>
                                <div class="quick-action-desc">Organisez vos projets</div>
                            </div>
                        </div>
                        <div class="quick-action" onclick="openAgentChat('nova')" style="cursor:pointer;">
                            <div class="quick-action-icon" style="background:rgba(147,51,234,0.15);border:1px solid rgba(147,51,234,0.3);">ğŸ”±</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name" style="color:#9333EA;">Nova â€” Superviseur</div>
                                <div class="quick-action-desc">Vue systÃ¨me globale</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="panel-section">
                    <div class="panel-title"><span>âš¡</span> AccÃ¨s Rapide</div>
                    <div class="quick-actions">
                        <a href="/civilization.html" class="quick-action">
                            <div class="quick-action-icon">ğŸŒ</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name">Explorer les domaines</div>
                                <div class="quick-action-desc">9 domaines d'expertise</div>
                            </div>
                        </a>
                        <a href="/agents.html" class="quick-action">
                            <div class="quick-action-icon">ğŸ¤–</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name">Catalogue d'agents</div>
                                <div class="quick-action-desc">400+ agents spÃ©cialisÃ©s</div>
                            </div>
                        </a>
                        <a href="/dashboard.html" class="quick-action">
                            <div class="quick-action-icon">ğŸ“Š</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name">Tableau de bord</div>
                                <div class="quick-action-desc">Statistiques et suivi</div>
                            </div>
                        </a>
                        <a href="/funder.html" class="quick-action">
                            <div class="quick-action-icon">ğŸ’</div>
                            <div class="quick-action-info">
                                <div class="quick-action-name">Devenir partenaire</div>
                                <div class="quick-action-desc">Rejoindre le projet</div>
                            </div>
                        </a>
                    </div>
                </div>
            </aside>

        </div>
    </main>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         FLOATING AGENT TOGGLE - AMOVIBLE (Nova, Aria, Orion + Quick Connect)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="agent-fab" id="agentFab">
        <div class="agent-spheres">
            <!-- Nova - Superviseur -->
            <div class="agent-sphere" onclick="openAgentChat('nova')" style="--agent-color: #9333EA; --agent-bg: rgba(147, 51, 234, 0.2);">
                <div class="agent-sphere-icon">ğŸ”±</div>
                <div class="agent-sphere-info">
                    <div class="agent-sphere-name">Nova</div>
                    <div class="agent-sphere-role">Superviseur SystÃ¨me</div>
                </div>
            </div>

            <!-- Aria - Guide -->
            <div class="agent-sphere" onclick="openAgentChat('aria')" style="--agent-color: #00FF88; --agent-bg: rgba(0, 255, 136, 0.2);">
                <div class="agent-sphere-icon">âœ¨</div>
                <div class="agent-sphere-info">
                    <div class="agent-sphere-name">Aria</div>
                    <div class="agent-sphere-role">Votre Guide</div>
                </div>
            </div>

            <!-- Orion - Coordinateur -->
            <div class="agent-sphere" onclick="openAgentChat('orion')" style="--agent-color: #FF6B35; --agent-bg: rgba(255, 107, 53, 0.2);">
                <div class="agent-sphere-icon">ğŸ›ï¸</div>
                <div class="agent-sphere-info">
                    <div class="agent-sphere-name">Orion</div>
                    <div class="agent-sphere-role">Votre Coordinateur</div>
                </div>
            </div>

            <!-- Quick Connect -->
            <div class="agent-sphere quick-connect" onclick="openQuickConnect()">
                <div class="agent-sphere-icon">+</div>
                <div class="agent-sphere-info">
                    <div class="agent-sphere-name">Quick Connect</div>
                    <div class="agent-sphere-role">Ajouter un agent</div>
                </div>
            </div>
        </div>

        <button class="fab-main" id="fabMain" onclick="toggleAgentFab()">
            <span id="fabIcon">ğŸ’«</span>
        </button>
    </div>

    <!-- Agent Chat Panel -->
    <div class="agent-chat-panel" id="agentChatPanel">
        <div class="chat-header" id="chatHeader">
            <div class="chat-agent-icon" id="chatAgentIcon">ğŸ”±</div>
            <div class="chat-agent-info">
                <div class="chat-agent-name" id="chatAgentName">Nova</div>
                <div class="chat-agent-status">En ligne</div>
            </div>
            <button class="chat-close" onclick="closeAgentChat()">Ã—</button>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" placeholder="Message..." onkeypress="handleChatKeypress(event)">
            <button class="chat-send" onclick="sendChatMessage()">â†’</button>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         SCRIPTS - CHEÂ·NUâ„¢ V76
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script src="/atom-websocket.js"></script>
    <script src="/js/governance-init.js"></script>
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SERVICE WORKER REGISTRATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((reg) => console.log('[AT-OM] Service Worker registered:', reg.scope))
                    .catch((err) => console.warn('[AT-OM] SW registration failed:', err));
            });
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // WEBSOCKET CONNECTION (background, no UI)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let wsManager = null;

        function initWebSocket() {
            if (typeof initATOMWebSocket === 'undefined') {
                console.warn('[AT-OM] WebSocket module not loaded â€” mode local');
                return;
            }

            wsManager = initATOMWebSocket({
                onStatusChange: (status) => {
                    console.log('[AT-OM] WS status:', status);
                },
                onMessage: (data) => {
                    if (data.type === 'agent_count') {
                        const el = document.getElementById('agentCountHeader');
                        if (el) el.textContent = data.count;
                    }
                }
            });
        }

        setTimeout(initWebSocket, 500);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CORE AGENTS L0 - Nova, Aria, Orion
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const CORE_AGENTS = {
            nova: {
                id: 'nova',
                name: 'Nova',
                icon: 'ğŸ”±',
                title: 'Superviseur SystÃ¨me',
                frequency: 999,
                color: '#9333EA',
                personality: 'calm, wise, protective',
                greeting: 'Bienvenue. Je suis Nova, le superviseur systÃ¨me d\'ATÂ·OM. Je coordonne les 400+ agents et veille au bon fonctionnement de la plateforme. Comment puis-je vous aider ?'
            },
            aria: {
                id: 'aria',
                name: 'Aria',
                icon: 'âœ¨',
                title: 'Votre Guide',
                frequency: 528,
                color: '#00FF88',
                personality: 'warm, patient, encouraging',
                greeting: 'Bonjour ! ğŸ‘‹ Je suis Aria, votre guide sur ATÂ·OM.\n\nVoici comment dÃ©marrer :\n\n1ï¸âƒ£ Explorez les **9 domaines** (menu Ã  gauche)\n2ï¸âƒ£ Parcourez le **catalogue de 400+ agents**\n3ï¸âƒ£ Posez-moi vos questions ici !\n\nQue voulez-vous dÃ©couvrir en premier ?'
            },
            orion: {
                id: 'orion',
                name: 'Orion',
                icon: 'ğŸ›ï¸',
                title: 'Votre Coordinateur',
                frequency: 741,
                color: '#FF6B35',
                personality: 'analytical, precise, visionary',
                greeting: 'Bonjour. Je suis Orion, votre coordinateur personnel. Je sÃ©lectionne et organise les agents les plus adaptÃ©s Ã  vos objectifs. Dites-moi ce que vous voulez accomplir, et je m\'en occupe.'
            }
        };

        let fabOpen = false;
        let currentChatAgent = null;
        let chatHistory = {};

        function toggleAgentFab() {
            fabOpen = !fabOpen;
            const fab = document.getElementById('agentFab');
            const fabMain = document.getElementById('fabMain');
            const fabIcon = document.getElementById('fabIcon');

            fab.classList.toggle('open', fabOpen);
            fabMain.classList.toggle('open', fabOpen);
            fabIcon.textContent = fabOpen ? '+' : 'ğŸ’«';
        }

        function openAgentChat(agentId) {
            const agent = CORE_AGENTS[agentId];
            if (!agent) return;

            currentChatAgent = agentId;
            fabOpen = false;
            document.getElementById('agentFab').classList.remove('open');
            document.getElementById('fabMain').classList.remove('open');
            document.getElementById('fabIcon').textContent = 'ğŸ’«';

            document.getElementById('chatAgentIcon').textContent = agent.icon;
            document.getElementById('chatAgentIcon').style.borderColor = agent.color;
            document.getElementById('chatAgentIcon').style.background = `${agent.color}20`;
            document.getElementById('chatAgentName').textContent = agent.name;
            document.getElementById('chatHeader').style.setProperty('--agent-color', agent.color);

            if (!chatHistory[agentId]) {
                chatHistory[agentId] = [{
                    role: 'agent',
                    content: agent.greeting,
                    timestamp: Date.now()
                }];
            }

            renderChatMessages();
            document.getElementById('agentChatPanel').classList.add('open');
            document.getElementById('agentChatPanel').style.setProperty('--agent-color', agent.color);
            setTimeout(() => document.getElementById('chatInput').focus(), 100);
        }

        function closeAgentChat() {
            document.getElementById('agentChatPanel').classList.remove('open');
            currentChatAgent = null;
        }

        function renderChatMessages() {
            const container = document.getElementById('chatMessages');
            const messages = chatHistory[currentChatAgent] || [];

            container.innerHTML = messages.map(msg => `
                <div class="chat-message ${msg.role}">
                    ${msg.content}
                </div>
            `).join('');

            container.scrollTop = container.scrollHeight;
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();
            if (!text || !currentChatAgent) return;

            chatHistory[currentChatAgent].push({
                role: 'user',
                content: text,
                timestamp: Date.now()
            });

            input.value = '';
            renderChatMessages();

            setTimeout(() => {
                const response = getAgentResponse(currentChatAgent, text);
                chatHistory[currentChatAgent].push({
                    role: 'agent',
                    content: response,
                    timestamp: Date.now()
                });
                renderChatMessages();
            }, 800 + Math.random() * 700);
        }

        function getAgentResponse(agentId, userMessage) {
            const agent = CORE_AGENTS[agentId];
            const lowerMsg = userMessage.toLowerCase();

            if (agentId === 'nova') {
                if (lowerMsg.includes('agent') || lowerMsg.includes('combien')) {
                    return `ATÂ·OM dispose de plus de 400 agents IA spÃ©cialisÃ©s, rÃ©partis dans 9 domaines d'expertise. Chaque domaine a ses propres agents formÃ©s pour des tÃ¢ches prÃ©cises. Consultez le catalogue complet via "Agents" dans le menu.`;
                }
                if (lowerMsg.includes('domaine') || lowerMsg.includes('categorie')) {
                    return `Les 9 domaines couvrent : DÃ©veloppement Personnel, Entreprise, Institutions, CrÃ©ation, CommunautÃ©, Communication, Formation, Logistique et DurabilitÃ©. Explorez-les via "Domaines" dans le menu de gauche.`;
                }
                if (lowerMsg.includes('securite') || lowerMsg.includes('donnee')) {
                    return `La sÃ©curitÃ© est notre prioritÃ©. Toutes les actions critiques nÃ©cessitent une approbation humaine. Vos donnÃ©es sont chiffrÃ©es et vous gardez le contrÃ´le total sur vos informations.`;
                }
                return `Bonne question. En tant que superviseur, je veille au bon fonctionnement de l'ensemble du systÃ¨me. N'hÃ©sitez pas Ã  explorer les domaines dans le menu de gauche ou Ã  demander Ã  Aria pour Ãªtre guidÃ©.`;
            }

            if (agentId === 'aria') {
                if (lowerMsg.includes('commencer') || lowerMsg.includes('debut') || lowerMsg.includes('start') || lowerMsg.includes('comment')) {
                    return `Excellent ! Voici les 3 Ã©tapes pour bien dÃ©marrer :\n\n1ï¸âƒ£ Explorez les 9 domaines via "Domaines" dans le menu\n2ï¸âƒ£ Parcourez le catalogue d'agents pour trouver ceux qui correspondent Ã  vos besoins\n3ï¸âƒ£ Revenez me voir si vous avez des questions !\n\nQuel domaine vous intÃ©resse le plus ?`;
                }
                if (lowerMsg.includes('aide') || lowerMsg.includes('help') || lowerMsg.includes('quoi')) {
                    return `Je peux vous aider avec :\n\nâ€¢ ğŸŒ Explorer les 9 domaines d'expertise\nâ€¢ ğŸ¤– Trouver les agents adaptÃ©s Ã  vos besoins\nâ€¢ ğŸ“Š Comprendre votre tableau de bord\nâ€¢ ğŸ’ DÃ©couvrir les options partenaire\n\nQu'est-ce qui vous intÃ©resse ?`;
                }
                if (lowerMsg.includes('domaine') || lowerMsg.includes('categorie')) {
                    return `Les 9 domaines sont : Personnel, Entreprise, Institutions, CrÃ©ation, CommunautÃ©, Communication, Formation, Logistique et DurabilitÃ©. Cliquez sur "Domaines" dans le menu pour les explorer en dÃ©tail !`;
                }
                return `C'est une bonne question ! N'hÃ©sitez pas Ã  explorer les liens dans le panneau de gauche. Je suis lÃ  si vous avez besoin d'aide pour naviguer ou comprendre quelque chose.`;
            }

            if (agentId === 'orion') {
                if (lowerMsg.includes('agent') || lowerMsg.includes('coordonner') || lowerMsg.includes('organiser')) {
                    return `En tant que coordinateur, je peux sÃ©lectionner les meilleurs agents parmi les 400+ disponibles pour votre projet. Dites-moi votre objectif et je vous proposerai le parcours optimal.`;
                }
                if (lowerMsg.includes('plan') || lowerMsg.includes('strategie') || lowerMsg.includes('objectif')) {
                    return `Pour Ã©laborer votre stratÃ©gie, j'ai besoin de comprendre :\n\n1) Votre domaine d'intÃ©rÃªt parmi les 9 domaines\n2) Votre objectif principal\n3) Votre horizon de temps\n\nParlez-moi de ce que vous voulez accomplir.`;
                }
                if (lowerMsg.includes('domaine')) {
                    return `Les 9 domaines couvrent tous les aspects de votre vie professionnelle et personnelle. Cliquez sur "Domaines" dans le menu pour les explorer. Je pourrai ensuite organiser votre parcours personnalisÃ©.`;
                }
                return `Bien reÃ§u. Je vais structurer votre demande. PrÃ©cisez votre objectif et le domaine concernÃ© pour que je puisse coordonner les agents les plus adaptÃ©s.`;
            }

            return `Message reÃ§u. L'agent ${agent.name} traite votre demande...`;
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') sendChatMessage();
        }

        function openQuickConnect() {
            alert('Quick Connect : BientÃ´t disponible !\n\nVous pourrez ajouter des agents personnalisÃ©s Ã  votre liste.');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MAKE FAB DRAGGABLE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function initDraggableFab() {
            const fab = document.getElementById('agentFab');
            let isDragging = false;
            let startX, startY, startLeft, startBottom;

            fab.addEventListener('mousedown', startDrag);
            fab.addEventListener('touchstart', startDrag, { passive: false });

            function startDrag(e) {
                if (e.target.closest('.agent-spheres') || e.target.closest('.agent-sphere')) return;

                isDragging = false;
                const touch = e.touches ? e.touches[0] : e;
                startX = touch.clientX;
                startY = touch.clientY;

                const rect = fab.getBoundingClientRect();
                startLeft = rect.left;
                startBottom = window.innerHeight - rect.bottom;

                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag, { passive: false });
                document.addEventListener('mouseup', stopDrag);
                document.addEventListener('touchend', stopDrag);
            }

            function drag(e) {
                e.preventDefault();
                const touch = e.touches ? e.touches[0] : e;
                const deltaX = touch.clientX - startX;
                const deltaY = touch.clientY - startY;

                if (Math.abs(deltaX) > 5 || Math.abs(deltaY) > 5) {
                    isDragging = true;
                    fab.classList.add('dragging');
                }

                if (isDragging) {
                    const newLeft = Math.max(10, Math.min(window.innerWidth - 70, startLeft + deltaX));
                    const newBottom = Math.max(10, Math.min(window.innerHeight - 70, startBottom - deltaY));

                    fab.style.left = newLeft + 'px';
                    fab.style.right = 'auto';
                    fab.style.bottom = newBottom + 'px';
                }
            }

            function stopDrag() {
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('mouseup', stopDrag);
                document.removeEventListener('touchend', stopDrag);
                fab.classList.remove('dragging');
                if (isDragging) isDragging = false;
            }
        }

        document.addEventListener('DOMContentLoaded', initDraggableFab);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // DEBUG STATUS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        window.atomStatus = () => {
            console.log('%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'color: #D8B26A;');
            console.log('%c ATÂ·OM â€” Tableau de bord', 'color: #D8B26A; font-size: 14px; font-weight: bold;');
            console.log('%c Nova + Aria + Orion', 'color: #9333EA;');
            console.log('%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'color: #D8B26A;');
        };

        console.log('%c[AT-OM] Tableau de bord actif', 'color: #D8B26A;');

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // AUTO-ONBOARDING ARIA â€” Ouvre le chat Aria pour les nouveaux visiteurs
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        (function autoOnboarding() {
            const hasVisited = localStorage.getItem('atom_visited');
            if (!hasVisited) {
                localStorage.setItem('atom_visited', 'true');
                // Ouvre Aria automatiquement aprÃ¨s 1.5s
                setTimeout(() => {
                    openAgentChat('aria');
                }, 1500);
            }
        })();
    </script>
</body>
</html>
